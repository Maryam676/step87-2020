<!DOCTYPE html>
<html>
  <head>
    <title>Workspace</title>

    <meta charset="utf-8" />

    <!-- Xterm -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@4.8.0/css/xterm.css" />
    <script src="https://cdn.jsdelivr.net/npm/xterm@4.8.0/lib/xterm.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xterm-addon-fit@0.4.0/lib/xterm-addon-fit.js"></script>

    <!-- Jitsi -->
    <script src='https://meet.jit.si/external_api.js'></script>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/5.5.4/firebase.js"></script>

    <!-- Firepad -->
    <link rel="stylesheet" href="https://firepad.io/releases/v1.5.9/firepad.css" />
    <script src="https://firepad.io/releases/v1.5.9/firepad.min.js"></script>

    <!-- Monaco -->
    <script src="https://unpkg.com/monaco-editor@latest/min/vs/loader.js"></script>

    <script src="/script/auth.js"></script>
    <script src="/script/util.js"></script>
    <script src="workspace.js"></script>
    <script src="execution.js"></script>
    <script src="jitsi.js"></script>

    <link rel="stylesheet" href="workspace.css" />
    <link rel="stylesheet" href="/style/common.css" />
  </head>

  <body>
    <div class="column">
      <div id="tab-bar">
        <div id="tabs-container">
          
        </div>
        <div id="permanent-buttons" class="initially-hidden">
          <button class="permanent-tab tab" onclick="uploadFiles()">Upload</button>
          <input type="file" id="upload-files" class="hidden" oninput="filesUploaded()" multiple/>

          <button class="permanent-tab tab" id="downloadButton" onclick="downloadFiles()">Download</button>
          <a class="hidden" id="downloadLink" download="workspace.zip">Download</a>

          <div id="envSelectWrapper" class="select-wrapper permanent-tab tab hidden">
            <select id="envSelect"></select>
          </div>
          <button class="permanent-tab tab hidden" id="executeButton" onclick="executeCode()">Execute</button>

          <button class="permanent-tab tab" id="jitsi-join" onclick="addJitsiWindow()">Join Meeting</button>
        </div>
      </div>
      <div id="firepads">
        <div class="hidden" id="jitsi-container">
          <button id="toggleJitsiButton" class="jitsi-button" onclick="toggleJitsi()">Hide Jitsi</button>
          <div id="jitsi-window"></div>
        </div>
      </div>
      <button id="output-minimize-button" onclick="toggleOutput()">&#9650;</button>
      <div id="output-container" class="hidden"></div>
    </div>
  </body>
</html>